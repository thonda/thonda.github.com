---
layout: default
---
# STEP3-2.CentOS上でサイトを公開してみる

Linuxではパッケージという形式でプログラムが配布されており、パッケージ管理システムを利用してインストールや削除、管理などを行います。パッケージには主にRPM形式とdeb形式の2種類があり、CentOSではRPM形式のパッケージを、yumというパッケージ管理システムを用いて管理しています。

## Apache

まずはApacheを導入します。以下のコマンドでインストールします。

    yum -y install httpd

インストールが終わったら起動します。

    service httpd start

起動後、http://IPアドレス/にアクセスしてテストページが表示されることを確認します。

## MySQL

次にMySQLをインストールします。

    yum install mysql-server

インストールが終わったら起動します。

    service mysqld start

ローカルで作成したデータベースをコピーします。まずは[http://localhost/phpmyadmin/](http://localhost/phpmyadmin/)の該当のデータベースのエクスポートタブからデータをエクスポートします。フォーマットはSQLで大丈夫です。エクスポートしたデータをサーバ上にアップロード（後述）したあと、以下のコマンドを実行します。

    mysql -u root

rootユーザーでMySQLコマンドラインツールに入ることができました。`mysql>`と表示されていると思います。ここでは今までどおりSQL文を実行できます。

    mysql> create database データベース名;
    mysql> quit;

データベースを作成して、MySQLコマンドラインツールから抜けました。最後にエクスポートしたデータを取り込みます。

    mysql -u root データベース名 < エクスポートしたファイル

## ファイル転送

それではファイルをアップロードします。ファイルアップロードはSFTPというプロトコルを使用します。[ダウンロード - WinSCP](http://sourceforge.jp/projects/winscp/releases/)からWinSCPをダウンロード・インストールします。起動してサーバ情報を入力して接続するとファイル一覧が表示されます。あとはドラッグ＆ドロップでファイルをアップロード・ダウンロードできます。なお、/var/www/htmlがWebページのルート部分にあたるのでここにアップロードしましょう。逆に他人から見えてはいけないファイル（先ほどエクスポートしたデータなど）は/var/www/htmlに置いてはいけません。

これでサイトが公開できました。しかしセキュリティ対策を施していないためまだ広めないようにしましょう。